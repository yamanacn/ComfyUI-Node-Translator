声明：作者纯开发小白一枚，本项目全程由cursor开发，本人只是一个提问的工具人，如果遇到BUG，请轻喷。

程序配套的视频讲解：
【comfyui插件翻译自由啦，直接中文搜索节点，继承辣椒酱的意志~】 https://www.bilibili.com/video/BV1hmAneGEbZ/?share_source=copy_web&vd_source=af996d4f530575a9634db534351104a6

# ComfyUI 节点翻译工具

一个用于翻译 ComfyUI 插件节点信息的工具，支持批量检测和翻译节点信息。
需要配合AIGODLIKE-ComfyUI-Translation使用
将最终翻译的json直接放入AIGODLIKE-ComfyUI-Translation/zh-CN\Nodes中即可
## 功能特点

- 自动检测插件目录中的节点信息
- 使用火山引擎 Doubao-1.5-pro-32k API 进行中文翻译
- 支持批量翻译和进度显示
- 提供节点对比功能
- 详细的翻译日志和费用统计

## API 配置说明

### 火山引擎 API 配置
详细教学见：https://www.bilibili.com/video/BV1LCN2eZEAX/?spm_id_from=333.1387.homepage.video_card.click&vd_source=ae85ec1de21e4084d40c5d4eec667b8f
1. 访问[火山引擎控制台](https://console.volcengine.com/)
2. 创建 API 密钥，获取 `API Key`
3. 创建翻译模型，获取 `Model ID`
4. 在程序中填入 API 密钥和模型 ID
5. 点击"测试 API"确认连接正常

### 费率说明
- 输入 tokens：0.0008元/千tokens
- 输出 tokens：0.0020元/千tokens
- 程序会自动计算并显示预估费用

## 使用说明

### 快速开始
1. 运行 `run.bat` 或 `run(国内源).bat` 启动程序（国内用户建议使用后者）
2. 在主界面填入 API 密钥和模型 ID
3. 点击"保存配置"保存 API 信息
4. 点击"测试 API"验证连接

### 翻译功能
1. 点击"选择文件夹"选择要翻译的插件目录
2. 点击"检测节点"扫描插件中的节点
3. 可以点击"查看待翻译 JSON"查看检测到的节点
4. 设置批次大小（建议：5-8）
5. 点击"开始翻译"开始翻译过程
6. 翻译完成后可点击"查看结果"查看翻译结果

### 对比功能
1. 切换到"对比功能"标签页
2. 选择旧版本节点文件
3. 选择新版本节点文件
4. 点击"比较节点"进行对比
5. 可以点击"打开结果文件"查看详细对比结果

## 功能说明

### 主要功能
- **节点检测**：扫描插件目录，识别所有 ComfyUI 节点
- **节点翻译**：将节点信息翻译成中文
- **节点对比**：对比两个版本的节点差异
- **结果查看**：支持查看待翻译内容和翻译结果

### 辅助功能
- **API 测试**：验证 API 连接是否正常
- **配置保存**：保存 API 密钥和模型 ID
- **进度显示**：显示翻译进度和详细日志
- **费用统计**：统计 tokens 使用量和预估费用

### 输出文件
所有文件都保存在程序目录下的 `output/插件名/` 文件夹中：
- `temp/`: 临时文件目录
- `translations/`: 翻译结果目录
- `logs/`: 日志文件目录
- `debug/`: 调试信息目录

## 注意事项

1. 确保有稳定的网络连接
2. API 密钥请妥善保管，不要泄露
3. 建议先用小批量测试翻译效果
4. 如遇到问题，查看日志获取详细信息
5. 翻译费用以实际计费为准

## 更新日志

### v1.0.0
- 初始版本发布
- 支持火山引擎翻译服务
- 实现基本的节点检测和翻译功能
- 添加节点对比功能
